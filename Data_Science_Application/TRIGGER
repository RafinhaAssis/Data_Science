CREATE OR REPLACE TRIGGER TR_BEF_INS_EMP BEFORE INSERT ON EMP FOR EACH ROW
DECLARE
BEGIN
    :new.ename := UPPER(:NEW.ENAME);
END TR_BEF_INS_EMP;

SELECT * FROM t_log_empdept;

INSERT INTO EMP(empno, ename) VALUES (3011,  'pATRICIA');
commit;

CREATE OR REPLACE TRIGGER TR_BEF_UP_EMP BEFORE UPDATE ON EMP FOR EACH ROW
DECLARE
BEGIN
 :new.ename := UPPER(:NEW.ENAME||'*-*');
END TR_BEF_UP_EMP;

UPDATE EMP
SET ENAME = 'bEATRIZ'
WHERE ENAME = 'RAFAEL'


CREATE TABLE t_log_empdept
(    nome_tabela VARCHAR2(30) NOT NULL,
     nr_pk_tabela NUMBER(10) NOT NULL,
     dt_operacao DATE NOT NULL,
     ds_operacao VARCHAR2(100) NOT NULL
);

 

SELECT * FROM t_log_empdept;

















CREATE OR REPLACE TRIGGER TR_AFT_INS_EMP AFTER INSERT ON EMP FOR EACH ROW
DECLARE
BEGIN
    INSERT INTO T_LOG_EMPDEPT (NOME_TABELA, NR_PK_TABELA, dt_operacao, ds_operacao) VALUES ('EMP', :NEW.EMPNO, SYSDATE, 'INSERT');
END TR_AFT_INS_EMP;
